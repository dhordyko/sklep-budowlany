<mat-card>
  <!-- Title of an Card -->
  <mat-card-title class="mb-5">
    <h1>Billing Details</h1>

    <p *ngIf="!this.firstFormGroup.valid" class="text-center text-muted">
      <strong>Please fill out this form to continue.</strong>
    </p>
    <p *ngIf="this.firstFormGroup.valid" class="text-center text-muted">
      <strong>Thank you! You may follow next step.</strong>
    </p>
  </mat-card-title>

  <mat-card-content>
    <mat-horizontal-stepper
      [linear]="isLinear"
      #stepper
      fxShow.sm="false"
      fxShow.md="true"
      fxShow.gt-md="true"
      fxShow.xs="false"
      fxShow="false"
    >
      <mat-step [stepControl]="firstFormGroup">
        <div class="d-flex justify-content-center mt-4">
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>First Name</mat-label>
                <input
                  matInput
                  MatFormFieldControl
                  formControlName="firstName"
                  required
                />
                <mat-error *ngIf="firstFormGroup.get('firstName').touched"
                  >Please enter your name</mat-error
                >
              </mat-form-field>
            </form>
          </div>
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Last Name</mat-label>
                <input matInput formControlName="lastName" />
              </mat-form-field>
            </form>
          </div>
        </div>

        <!-- ------------- -->

        <div class="d-flex justify-content-center mt-4">
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Address</mat-label>
                <input
                  matInput
                  MatFormFieldControl
                  formControlName="address"
                  required
                />
                <mat-error *ngIf="firstFormGroup.get('address').touched"
                  >Please enter your address</mat-error
                >
              </mat-form-field>
            </form>
          </div>
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Town/City</mat-label>
                <input matInput formControlName="city" />
              </mat-form-field>
            </form>
          </div>
        </div>

        <!-- ------------- -->
        <div class="d-flex justify-content-center mt-4">
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>State/Counry <small>(required)</small></mat-label>
                <input
                  matInput
                  MatFormFieldControl
                  formControlName="country"
                  required
                />
                <mat-error *ngIf="firstFormGroup.get('address').touched"
                  >Please enter your country</mat-error
                >
              </mat-form-field>
            </form>
          </div>
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>PostCode/Zip </mat-label>
                <input matInput formControlName="postIndex" />
              </mat-form-field>
            </form>
          </div>
        </div>

        <!-- ------------- -->
        <div class="d-flex justify-content-center mt-4">
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Phone <small>(required)</small></mat-label>
                <input
                  matInput
                  MatFormFieldControl
                  formControlName="phone"
                  required
                />
                <mat-error *ngIf="firstFormGroup.get('address').touched"
                  >Please enter your phone</mat-error
                >
              </mat-form-field>
            </form>
          </div>
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Email <small> (required)</small></mat-label>
                <input
                  matInput
                  formControlName="email"
                  MatFormFieldControl
                  required
                />
                <mat-error
                  *ngIf="
                    firstFormGroup.get('email').touched &&
                    firstFormGroup.get('email').invalid
                  "
                  >{{ getErrorMessage() }}</mat-error
                >
              </mat-form-field>
            </form>
          </div>
        </div>
        <div class="mt-5 px-3">
          <button
            class="mx-4 py-2"
            mat-raised-button
            (click)="stepper.reset()"
            style="background-color: #3f51b5; color: whitesmoke;"
          >
            Recet
          </button>

          <button
            #checkbtn
            class="mx-4 py-2"
            mat-raised-button
            style="background-color: #3f51b5; color: whitesmoke;"
            (click)="FirstStepCheck(stepper)"
          >
            Next
          </button>
        </div>
      </mat-step>

      <mat-step [stepControl]="secondFormGroup">
        <form [formGroup]="secondFormGroup">
          <ng-template matStepLabel>Your Order Summary</ng-template>
          <mat-card>
            <mat-card-content>
              <div class="container">
                <div class="row">
                  <div class="col-md-7 text-lg-left">
                    <h2 class="font-weight-bold text-muted">
                      List of Products
                    </h2>
                  </div>
                  <div class="col-md-5 text-lg-left">
                    <h2 class="font-weight-bold text-muted">
                      Total Price
                    </h2>
                  </div>
                </div>

                <!-- ---------- -->

                <div class="row text-lg-left mt-4">
                  <div class="col-md-8">
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>
                    <p *ngIf="IconPrice == null">
                      No items in the cart
                    </p>
                    <div *ngFor="let product of cartProducts">
                      <p class="size font-weight-bold">
                        {{ product.name }}
                      </p>
                    </div>
                  </div>

                  <div class="col-md-4 text-lg-left">
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>
                    <div *ngFor="let product of cartProducts">
                      <p class="size font-weight-bold">
                        {{ product.cost
                        }}<span *ngIf="IconPrice == null"> 0 </span>$
                      </p>
                    </div>
                  </div>
                </div>
                <!-- -------------- -->

                <div class="row text-lg-left mt-4">
                  <div class="col-md-8">
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>
                    <h4 class="my-3">Subtotal</h4>
                    <h4 class="my-5">Shipping</h4>
                  </div>

                  <div class="col-md-4 text-lg-left">
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>

                    <h5 class="my-3 font-weight-bold text-danger size">
                      <span *ngIf="IconPrice == null">
                        0
                      </span>
                      {{ IconPrice }}$
                    </h5>
                    <mat-radio-group
                      aria-label="Select an option"
                      class="d-flex flex-column my-5"
                      formControlName="shippingMode"
                      name="shippingMode"
                    >
                      <mat-radio-button value="DHL"
                        ><h6 class="text-muted text-primary">
                          <em>DHL</em>
                        </h6></mat-radio-button
                      >
                      <mat-radio-button value="Inpost"
                        ><h6 class="text-muted text-primary">
                          <em>Inpost</em>
                        </h6></mat-radio-button
                      >
                    </mat-radio-group>
                  </div>
                </div>

                <!-- ------ -->
                <div class="row text-lg-left mt-4">
                  <div class="col-md-8">
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>
                    <h3 class="my-4">Total</h3>
                  </div>

                  <div class="col-md-4">
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>

                    <p class="size font-weight-bold">
                      {{ IconPrice }}<span *ngIf="IconPrice == null"> 0 </span>$
                    </p>
                  </div>
                </div>

                <!-- ------ -->
                <div class="row text-lg-left mt-4">
                  <div class="col-md-12">
                    <h1><em>Additional information</em></h1>
                    <h6 class="text-muted">Order notes (optional)</h6>
                    <mat-divider></mat-divider>

                    <mat-form-field appearance="fill" class="mt-4 w-75">
                      <mat-label>Textarea</mat-label>
                      <textarea matInput></textarea>
                    </mat-form-field>
                  </div>
                </div>

                <!-- ------ -->
                <div class="row text-lg-left mt-4">
                  <div class="col-md-12">
                    <mat-divider></mat-divider>
                    <mat-radio-group
                      aria-label="Select an option"
                      class="d-flex flex-column my-5"
                      formControlName="payment"
                      name="payment"
                    >
                      <mat-radio-button value="PayPal"
                        ><h6 class="text-muted text-primary">
                          <em>PayPal</em>
                        </h6></mat-radio-button
                      >
                      <mat-radio-button value="CreditCard"
                        ><h6 class="text-muted text-primary">
                          <em>CreditCard</em>
                        </h6></mat-radio-button
                      >
                    </mat-radio-group>
                  </div>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
          <div class="mt-5 px-3">
            <button
              class="mx-4 py-2"
              mat-raised-button
              style="background-color: #3f51b5; color: whitesmoke;"
              matStepperPrevious
            >
              Back
            </button>
            <button
              class="mx-4 py-2"
              style="padding: 5px 35px;"
              mat-raised-button
              (click)="submit(stepper)"
              [disabled]="submited"
              style="background-color: #3f51b5; color: whitesmoke;"
            >
              Submit
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Succeeded</ng-template>
        <mat-card>
          <mat-card-content>
            <h1 class="text-centertext-primary">Thank you for your order</h1>
          </mat-card-content>
        </mat-card>

        <div>
          <button mat-button [routerLink]="['/']">Back to Store</button>
          <button mat-button [routerLink]="['/cart']">Back to Cart</button>
        </div>
      </mat-step>
    </mat-horizontal-stepper>

    <!-- ------------------------------------------- -->
    <mat-vertical-stepper
      fxShow.sm="true"
      fxShow.md="false"
      fxShow.xs="true"
      fxShow="false"
      #VertStepper
       [linear]="isLinear"
    >
      <mat-step [stepControl]="firstFormGroup">
        <div
          fxLayout.xs="column"
          fxLayout.sm="column"
          fxLayout.md="column"
          class="d-flex justify-content-center mt-4"
        >
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>First Name</mat-label>
                <input
                  matInput
                  MatFormFieldControl
                  formControlName="firstName"
                  required
                />
                <mat-error *ngIf="firstFormGroup.get('firstName').touched"
                  >Please enter your name</mat-error
                >
              </mat-form-field>
            </form>
          </div>
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Last Name</mat-label>
                <input matInput formControlName="lastName" />
              </mat-form-field>
            </form>
          </div>
        </div>

        <!-- ------------- -->

        <div
          class="d-flex justify-content-center mt-4"
          fxLayout.xs="column"
          fxLayout.sm="column"
          fxLayout.md="column"
        >
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Address</mat-label>
                <input
                  matInput
                  MatFormFieldControl
                  formControlName="address"
                  required
                />
                <mat-error *ngIf="firstFormGroup.get('address').touched"
                  >Please enter your address</mat-error
                >
              </mat-form-field>
            </form>
          </div>
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Town/City</mat-label>
                <input matInput formControlName="city" />
              </mat-form-field>
            </form>
          </div>
        </div>

        <!-- ------------- -->
        <div
          class="d-flex justify-content-center mt-4"
          fxLayout.xs="column"
          fxLayout.sm="column"
          fxLayout.md="column"
        >
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>State/Counry <small>(required)</small></mat-label>
                <input
                  matInput
                  MatFormFieldControl
                  formControlName="country"
                  required
                />
                <mat-error *ngIf="firstFormGroup.get('address').touched"
                  >Please enter your country</mat-error
                >
              </mat-form-field>
            </form>
          </div>
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>PostCode/Zip </mat-label>
                <input matInput formControlName="postIndex" />
              </mat-form-field>
            </form>
          </div>
        </div>

        <!-- ------------- -->
        <div
          class="d-flex justify-content-center mt-4"
          fxLayout.xs="column"
          fxLayout.sm="column"
          fxLayout.md="column"
        >
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Phone <small>(required)</small></mat-label>
                <input
                  matInput
                  MatFormFieldControl
                  formControlName="phone"
                  required
                />
                <mat-error *ngIf="firstFormGroup.get('address').touched"
                  >Please enter your phone</mat-error
                >
              </mat-form-field>
            </form>
          </div>
          <div>
            <form [formGroup]="firstFormGroup" class="example-form">
              <ng-template matStepLabel>Fill out billing details</ng-template>
              <mat-form-field class="example-form-field">
                <mat-label>Email <small> (required)</small></mat-label>
                <input
                  matInput
                  formControlName="email"
                  MatFormFieldControl
                  required
                />
                <mat-error
                  *ngIf="
                    firstFormGroup.get('email').touched &&
                    firstFormGroup.get('email').invalid
                  "
                  >{{ getErrorMessage() }}</mat-error
                >
              </mat-form-field>
            </form>
          </div>
        </div>
      </mat-step>

      <mat-step [stepControl]="secondFormGroup">
        <form [formGroup]="secondFormGroup">
          <ng-template matStepLabel>Your Order Summary</ng-template>
          <mat-card>
            <mat-card-content>
              <div class="container">
                <div
                  class="row"
                  fxShow.sm="false"
                  fxLayout.sm="column"
                  fxLayout.xs="column"
                  fxLayout.md="column"
                >
                  <div class="col-md-7 text-lg-left">
                    <h2
                      class="font-weight-bold text-muted"
                      [ngStyle.xs]="{ 'font-size': '4vw' }"
                    >
                      List of Products
                    </h2>
                  </div>
                  <div class="row text-lg-left mt-4" fxLayout.sm="column">
                    <div class="col-md-8">
                      <mat-divider></mat-divider>
                      <div class="mt-3"></div>
                      <p *ngIf="IconPrice == null">
                        No items in the cart
                      </p>
                      <div *ngFor="let product of cartProducts">
                        <p class="size font-weight-bold">
                          {{ product.name }}
                        </p>
                      </div>
                    </div>

                    <div class="col-md-4 text-lg-left">
                      <div class="col-md-5 text-lg-left">
                        <h2
                          [ngStyle.xs]="{ 'font-size': '4vw' }"
                          class="font-weight-bold text-muted mb-5"
                        >
                          Total Price
                        </h2>
                      </div>
                      <mat-divider></mat-divider>
                      <div class="mt-3"></div>
                      <div *ngFor="let product of cartProducts">
                        <p class="size font-weight-bold">
                          {{ product.cost
                          }}<span *ngIf="IconPrice == null"> 0 </span>$
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--
                ------------sm-layout---------- -->

                <div
                  class="row"
                  fxShow.sm="true"
                  fxLayout.sm="column"
                  fxLayout.xs="column"
                >
                  <div>
                    <h2
                      class="font-weight-bold text-muted"
                      [ngStyle.xs]="{ 'font-size': '4vw' }"
                    >
                      List of Products
                    </h2>
                  </div>
                  <div fxLayout.sm="column">
                    <div>
                      <mat-divider></mat-divider>
                      <div class="mt-3"></div>
                      <p *ngIf="IconPrice == null">
                        No items in the cart
                      </p>
                      <div *ngFor="let product of cartProducts">
                        <p class="size font-weight-bold">
                          {{ product.name }}
                        </p>
                      </div>
                    </div>

                    <div>
                      <div>
                        <h2
                          [ngStyle.xs]="{ 'font-size': '4vw' }"
                          class="font-weight-bold text-muted"
                        >
                          Total Price
                        </h2>
                      </div>
                      <mat-divider></mat-divider>
                      <div class="mt-3"></div>
                      <div *ngFor="let product of cartProducts">
                        <p class="size font-weight-bold">
                          {{ product.cost
                          }}<span *ngIf="IconPrice == null"> 0 </span>$
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- ---------- -->

                <!-- -------------- -->

                <div class="row text-lg-left mt-4" fxLayout.sm="column">
                  <div>
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>
                    <h4 class="my-3">Subtotal</h4>
                    <h5 class="my-3 font-weight-bold text-danger size">
                      <span *ngIf="IconPrice == null">
                        0
                      </span>
                      {{ IconPrice }}$
                    </h5>

                    <h4 class="my-5">Shipping</h4>
                  </div>

                  <div>
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>

                    <mat-radio-group
                      aria-label="Select an option"
                      class="d-flex flex-column my-5"
                      formControlName="shippingMode"
                      name="shippingMode"
                    >
                      <mat-radio-button value="DHL">
                        <h6 class="text-muted text-primary">
                          <em>DHL</em>
                        </h6>
                      </mat-radio-button>
                      <mat-radio-button value="Inpost">
                        <h6 class="text-muted text-primary">
                          <em>Inpost</em>
                        </h6>
                      </mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>

                <!-- ------ -->
                <div class="row text-lg-left mt-4">
                  <div class="col-md-8">
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>
                    <h3 class="my-4">Total</h3>
                  </div>

                  <div class="col-md-4">
                    <mat-divider></mat-divider>
                    <div class="mt-3"></div>

                    <p class="size font-weight-bold">
                      {{ IconPrice }}<span *ngIf="IconPrice == null"> 0 </span>$
                    </p>
                  </div>
                </div>

                <!-- ------ -->
                <div class="row text-lg-left mt-4">
                  <div class="col-md-12">
                    <h1 [ngStyle.xs]="{ 'font-size': '4vw' }">
                      <em>Additional information</em>
                    </h1>
                    <h6 class="text-muted">Order notes (optional)</h6>
                    <mat-divider></mat-divider>

                    <mat-form-field appearance="fill" class="mt-4 w-75">
                      <mat-label [ngStyle.xs]="{ width: '7vw' }"
                        >Textarea</mat-label
                      >
                      <textarea matInput></textarea>
                    </mat-form-field>
                  </div>
                </div>

                <!-- ------ -->
                <div class="row text-lg-left mt-4">
                  <div class="col-md-12">
                    <mat-divider></mat-divider>
                    <mat-radio-group
                      aria-label="Select an option"
                      class="d-flex flex-column my-5"
                      formControlName="payment"
                      name="payment"
                    >
                      <mat-radio-button value="PayPal">
                        <h6 class="text-muted text-primary">
                          <em>PayPal</em>
                        </h6>
                      </mat-radio-button>
                      <mat-radio-button value="CreditCard">
                        <h6 class="text-muted text-primary">
                          <em>CreditCard</em>
                        </h6>
                      </mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
          <div class="mt-5 px-3">
            <button
              class="mx-4 py-2"
              [ngStyle.xs]="{ width: '20vw' }"
              style="padding: 5px 35px;"
              mat-raised-button
              (click)="Vertsubmit(VertStepper)"
              [disabled]="submited"
              style="background-color: #3f51b5; color: whitesmoke;"
            >
              Submit
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Succeeded</ng-template>
        <mat-card>
          <mat-card-content>
            <h1
              [ngStyle.xs]="{ 'font-size': '2vw' }"
              class="text-centertext-primary"
            >
              Thank you for your order
            </h1>
          </mat-card-content>
        </mat-card>

        <div>
          <button mat-button [routerLink]="['/']">Back to Store</button>
          <button mat-button [routerLink]="['/cart']">Back to Cart</button>
        </div>
      </mat-step>
    </mat-vertical-stepper>
  </mat-card-content>
</mat-card>
